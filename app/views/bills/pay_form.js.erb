var existingDialog = document.querySelector('#pay-bill-dialog');
if (existingDialog) {
    existingDialog.outerHTML = '';
}
$("<%= escape_javascript(render 'pay_form', bill: @bill) %>").appendTo('body');
componentHandler.upgradeDom();
var dialog = document.querySelector('#pay-bill-dialog');
dialogPolyfill.registerDialog(dialog);
dialog.querySelector('.close').addEventListener('click', function() {
    dialog.close();
});
dialog.querySelector('#pay-bill').addEventListener('click', function() {
    dialog.querySelector('form').submit();
});
dialog.showModal();
